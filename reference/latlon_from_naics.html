<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Find EPA-regulated facilities in FRS by NAICS code (industrial category) — latlon_from_naics • EJAM</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Find EPA-regulated facilities in FRS by NAICS code (industrial category) — latlon_from_naics"><meta name="description" content="Get lat lon, Registry ID, given NAICS industry code(s)
Find all EPA Facility Registry Service (FRS) sites with this/these NAICS code(s)"><meta property="og:description" content="Get lat lon, Registry ID, given NAICS industry code(s)
Find all EPA Facility Registry Service (FRS) sites with this/these NAICS code(s)"><meta property="og:image" content="https://usepa.github.io/EJAM-open/logo.svg"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">EJAM</a>

    <small class="nav-text text-warning me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">2.32.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Overview for EJAM Users</h6></li>
    <li><a class="dropdown-item" href="../articles/0_whatis.html">What is EJAM?</a></li>
    <li><a class="dropdown-item" href="../articles/0_webapp.html">Accessing the Web App</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>For analysts using R</h6></li>
    <li><a class="dropdown-item" href="../articles/1_installing.html">Installing the EJAM R package</a></li>
    <li><a class="dropdown-item" href="../articles/2_quickstart.html">Quick Start Guide</a></li>
    <li><a class="dropdown-item" href="../articles/3_analyzing.html">Using EJAM for Analysis in R</a></li>
    <li><a class="dropdown-item" href="../articles/testdata.html">Examples of Input/Output Files &amp; Data</a></li>
    <li><a class="dropdown-item" href="../articles/distances.html">Comparing Distances (Choosing a Radius)</a></li>
    <li><a class="dropdown-item" href="../articles/naics.html">NAICS (Industries)</a></li>
    <li><a class="dropdown-item" href="../articles/zipcodes.html">Zipcodes</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>For package/app developers</h6></li>
    <li><a class="dropdown-item" href="../articles/dev_deploy-app.html">Deploying the Web App</a></li>
    <li><a class="dropdown-item" href="../articles/dev_run-shinytests.html">Testing EJAM App with Shinytests</a></li>
    <li><a class="dropdown-item" href="../articles/dev_run-unit-tests.html">Testing EJAM Functions with Unit Tests</a></li>
    <li><a class="dropdown-item" href="../articles/dev_update-datasets.html">Updating EJAM Datasets</a></li>
    <li><a class="dropdown-item" href="../articles/dev_update_documentation.html">Updating Documentation</a></li>
    <li><a class="dropdown-item" href="../articles/dev_update-package.html">Updating the Package as a New Release</a></li>
    <li><a class="dropdown-item" href="../articles/dev_future_plans.html">Future Plans and Ideas for EJAM</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Find EPA-regulated facilities in FRS by NAICS code (industrial category)</h1>
      <small class="dont-index">Source: <a href="https://github.com/USEPA/EJAM-open/blob/main/R/latlon_from_naics.R" class="external-link"><code>R/latlon_from_naics.R</code></a></small>
      <div class="d-none name"><code>latlon_from_naics.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Get lat lon, Registry ID, given NAICS industry code(s)
Find all EPA Facility Registry Service (FRS) sites with this/these NAICS code(s)</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">latlon_from_naics</span><span class="op">(</span><span class="va">naics</span>, children <span class="op">=</span> <span class="cn">TRUE</span>, id_only <span class="op">=</span> <span class="cn">FALSE</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-naics">naics<a class="anchor" aria-label="anchor" href="#arg-naics"></a></dt>
<dd><p>a vector of naics codes or query of titles of NAICS, or
a data.table with column named code, as with output of <code><a href="naics_from_any.html">naics_from_any()</a></code></p></dd>


<dt id="arg-children">children<a class="anchor" aria-label="anchor" href="#arg-children"></a></dt>
<dd><p>optional logical. set to FALSE to get only exact matches
rather than all facilities whose NAICS
starts with provided naics (or naics based on provided title).
Many facilities have only a longer more specific NAICS code
listed in the FRS, such as a 6-digit code, so if the category (e.g., 4-digit)
is queried then without children = TRUE one would not find all the sites
within that overall category.</p></dd>


<dt id="arg-id-only">id_only<a class="anchor" aria-label="anchor" href="#arg-id-only"></a></dt>
<dd><p>optional logical. Must set TRUE to get only regid instead of table</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>passed to <code><a href="naics_from_any.html">naics_from_any()</a></code></p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A data.table (not just data.frame) with columns called
lat, lon, REGISTRY_ID, NAICS, naics_found, naics_query (unless id_only parameter set TRUE).
naics_query is the input parameter that was used (that had been provided to this function as naics).
naics_found and NAICS are identical (redundant), and are the code found that
was listed in the <a href="frs_by_naics.html">frs_by_naics</a> table, so it might be a subcategory (child)
of the naics_query term. For example, naics_query might be 33611 (5 digits)
and for one facility the NAICS and naics_found might be 336111 (a 6-digit code)
and for another facility they might be 336112.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Important notes:</p><ul><li><p>Finding the right NAICS and finding all the right sites by NAICS is complicated,
and requires understanding the NAICS codes system, the FRS data, and the EJAM functions.
See the discussion in the "Advanced" or other vignettes/articles.</p></li>
<li><p>Many FRS sites lack NAICS code!</p></li>
<li><p>Note the difference between children = TRUE and children = FALSE</p></li>
<li><p>The NAICS in the returned table may be a child NAICS not the NAICS used in the query! This may cause confusion if you are querying multiple parent NAICS and you want to analyze results by NAICS!</p></li>
</ul><p>The functions like <code><a href="regid_from_naics.html">regid_from_naics()</a></code>, <code>latlon_from_naics()</code>, and <code><a href="frs_from_naics.html">frs_from_naics()</a></code>
try to find EPA FRS sites based on naics codes or titles.</p>
<p>EPA also provides a <a href="https://www.epa.gov/frs/frs-query#industrial" class="external-link">FRS Facility Industrial Classification Search tool</a>
where you can find facilities based on NAICS or SIC.</p>
<p>See more about NAICS industry codes at <a href="https://www.naics.com/search" class="external-link">https://www.naics.com/search</a></p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="frs_from_naics.html">frs_from_naics()</a></code>  <code><a href="frs_from_sic.html">frs_from_sic()</a></code> <code><a href="latlon_from_sic.html">latlon_from_sic()</a></code> <code><a href="regid_from_naics.html">regid_from_naics()</a></code> <code><a href="naics_from_any.html">naics_from_any()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="regid_from_naics.html">regid_from_naics</a></span><span class="op">(</span><span class="fl">321114</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [1] "110000307837" "110000324505" "110000324809" "110000333826" "110000340667"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [6] "110000341540" "110000343913" "110000344137" "110000345001" "110000348286"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [11] "110000351869" "110000352038" "110000356203" "110000357499" "110000357961"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [16] "110000357989" "110000358675" "110000360724" "110000362081" "110000362330"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [21] "110000362624" "110000367371" "110000367807" "110000369271" "110000372971"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [26] "110000373060" "110000373257" "110000379028" "110000379108" "110000382185"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [31] "110000391683" "110000405142" "110000406720" "110000407863" "110000409601"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [36] "110000420857" "110000422418" "110000422720" "110000422819" "110000437750"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [41] "110000449426" "110000450351" "110000450431" "110000450690" "110000450716"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [46] "110000451136" "110000455837" "110000461438" "110000479321" "110000489999"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [51] "110000490031" "110000490371" "110000490380" "110000490488" "110000491058"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [56] "110000491085" "110000492565" "110000496687" "110000497043" "110000497463"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [61] "110000498159" "110000513579" "110000580522" "110000586269" "110000587008"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [66] "110000587767" "110000588668" "110000588711" "110000588935" "110000589168"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [71] "110000589346" "110000589667" "110000589676" "110000589774" "110000590833"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [76] "110000595222" "110000599059" "110000600387" "110000603482" "110000604793"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [81] "110000606041" "110000606050" "110000608478" "110000608566" "110000610198"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [86] "110000617896" "110000617903" "110000619082" "110000619368" "110000619563"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [91] "110000620098" "110000700144" "110000702393" "110000726689" "110000738729"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [96] "110000741172" "110000764913" "110000772290" "110000773388" "110000789399"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [101] "110000799431" "110000862905" "110000872011" "110000873804" "110000877953"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [106] "110000900400" "110000913575" "110001089296" "110001141327" "110001147116"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [111] "110001147170" "110001147232" "110001283753" "110001448504" "110001496140"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [116] "110001506889" "110001916954" "110002020599" "110002083156" "110002102206"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [121] "110002102947" "110002108530" "110002113953" "110002118798" "110002120124"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [126] "110002121908" "110002135939" "110002136297" "110002141003" "110002147891"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [131] "110002148658" "110002152802" "110002178777" "110002228170" "110002319214"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [136] "110002332707" "110002343982" "110002369222" "110002461586" "110002463904"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [141] "110002469490" "110002469971" "110002528854" "110002528863" "110002556662"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [146] "110003025832" "110003266340" "110003266634" "110003398788" "110003512351"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [151] "110003541793" "110003619166" "110003679038" "110003811073" "110003995053"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [156] "110004037612" "110004793518" "110004961391" "110004988924" "110005112831"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [161] "110005326520" "110005539266" "110005669428" "110005790812" "110005993979"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [166] "110006015784" "110006028743" "110006067683" "110006464940" "110006493801"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [171] "110006525894" "110006533135" "110006537970" "110007032610" "110007229506"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [176] "110007331100" "110007355539" "110007397771" "110007434829" "110007489618"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [181] "110007489921" "110007657892" "110007722955" "110007821330" "110007840408"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [186] "110007916185" "110007916443" "110008144392" "110008157573" "110008183713"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [191] "110008242357" "110008269505" "110008445717" "110008568086" "110008805551"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [196] "110008805837" "110009071119" "110009071388" "110009072494" "110009074358"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [201] "110009312975" "110009355134" "110009496562" "110009846541" "110010070421"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [206] "110010858919" "110011636989" "110012275377" "110012503941" "110012551531"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [211] "110012602246" "110012704029" "110014139280" "110014146003" "110014155243"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [216] "110014157651" "110014160335" "110014166589" "110014170066" "110014170725"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [221] "110014171056" "110014171485" "110014193265" "110014193425" "110014205831"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [226] "110014212636" "110014214402" "110014221939" "110014271974" "110014273231"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [231] "110014279066" "110014374658" "110015596835" "110015596942" "110015644702"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [236] "110015670530" "110015762619" "110015823206" "110018241133" "110018495305"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [241] "110018873405" "110019879470" "110020684927" "110021122612" "110021271764"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [246] "110021299272" "110022448109" "110022522705" "110022810546" "110022883076"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [251] "110022904794" "110024285619" "110024420296" "110024423952" "110024448169"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [256] "110024559333" "110024886925" "110025077814" "110025099300" "110025140666"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [261] "110025158567" "110025252401" "110025331246" "110027214798" "110028001025"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [266] "110029068069" "110029527590" "110030314292" "110030451623" "110030490412"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [271] "110030530717" "110031002457" "110031389110" "110031416215" "110031433465"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [276] "110031469382" "110032489279" "110032745661" "110032968331" "110032995864"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [281] "110033012255" "110033135792" "110033141375" "110033721006" "110034052183"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [286] "110034421249" "110034480167" "110035485766" "110035663396" "110035765972"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [291] "110035847073" "110037257287" "110037268676" "110037424392" "110037752385"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [296] "110037795124" "110037795954" "110037832414" "110037902099" "110037914040"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [301] "110038018962" "110038090936" "110038877212" "110038954735" "110039383315"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [306] "110039494464" "110040370915" "110040432680" "110040495363" "110040513334"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [311] "110040528113" "110040917960" "110041063675" "110041564367" "110041591774"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [316] "110041969313" "110041992939" "110042000866" "110042000937" "110042002383"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [321] "110042072342" "110042123671" "110042267677" "110042294530" "110042554483"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [326] "110042622114" "110043086175" "110043192899" "110043429117" "110043508291"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [331] "110043546311" "110043631077" "110043744240" "110043855316" "110043894131"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [336] "110044905127" "110045551121" "110046314038" "110046433631" "110046541042"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [341] "110050813938" "110054260205" "110054410534" "110054819942" "110054832437"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [346] "110054849321" "110055947034" "110056267864" "110057193781" "110057218069"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [351] "110057350940" "110057618886" "110058284707" "110058353464" "110058969460"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [356] "110059705831" "110059789634" "110060096756" "110060158449" "110060280342"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [361] "110060375311" "110061077016" "110061966074" "110063653096" "110064111679"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [366] "110064122408" "110064122612" "110064123899" "110064125673" "110064125682"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [371] "110064148818" "110064174708" "110064178688" "110064178786" "110064184788"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [376] "110064185402" "110064208450" "110064214014" "110064215745" "110064264754"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [381] "110064275430" "110064291047" "110064297666" "110064341859" "110064350820"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [386] "110064559240" "110064696752" "110064836771" "110064860743" "110065946114"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [391] "110066854808" "110066940289" "110067041383" "110067112699" "110067188563"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [396] "110067211065" "110067572488" "110067884873" "110067960326" "110069446479"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [401] "110069518604" "110069633196" "110070003982" "110070032473" "110070121063"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [406] "110070123292" "110070126274" "110070132827" "110070161727" "110070204337"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [411] "110070214167" "110070225388" "110070244570" "110070246139" "110070265713"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [416] "110070274724" "110070275096" "110070275670" "110070279898" "110070280352"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [421] "110070282492" "110070283632" "110070283990" "110070287663" "110070291235"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [426] "110070291314" "110070293044" "110070293074" "110070295689" "110070295876"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [431] "110070298013" "110070298886" "110070298980" "110070299527" "110070305765"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [436] "110070308071" "110070309105" "110070309891" "110070310556" "110070311083"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [441] "110070311085" "110070311555" "110070312600" "110070318182" "110070319746"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [446] "110070321547" "110070321662" "110070322568" "110070322569" "110070322884"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [451] "110070323012" "110070325038" "110070325290" "110070325853" "110070326067"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [456] "110070329424" "110070329425" "110070329711" "110070330580" "110070331105"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [461] "110070333486" "110070334116" "110070340184" "110070341489" "110070344007"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [466] "110070347833" "110070347918" "110070362634" "110070427401" "110070454038"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [471] "110070458460" "110070477841" "110070536232" "110070537353" "110070550793"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [476] "110070557799" "110070559555" "110070591096" "110070630951" "110070635089"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [481] "110070638862" "110070648380" "110070716203" "110070830340" "110070834914"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [486] "110070877448" "110071084747" "110071138432" "110071307905" "110071334308"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [491] "110071380069" "110071414306" "110071434078" "110071435478" "110071453611"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [496] "110071541172" "110071542524" "110071658376" "110071671502" "110071711098"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [501] "110071711268" "110071719037" "110071720368" "110071720642" "110071722397"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [506] "110071722611" "110071777258" "110071778088" "110071778853" "110071786185"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [511] "110071786565" "110071793196" "110071803235" "110071870928" "110071870933"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [516] "110071871479" "110071871691" "110071872027" "110071872028" "110071872489"</span>
<span class="r-in"><span>  <span class="fu">latlon_from_naics</span><span class="op">(</span><span class="fl">321114</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           lat        lon  REGISTRY_ID  NAICS naics_found naics_query</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         &lt;num&gt;      &lt;num&gt;       &lt;char&gt;  &lt;num&gt;       &lt;num&gt;       &lt;num&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1: 18.41565  -66.20266 110000307837 321114      321114      321114</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2: 42.69898  -73.82309 110000324505 321114      321114      321114</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3: 41.71228  -73.93705 110000324809 321114      321114      321114</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   4: 40.08626  -76.18172 110000333826 321114      321114      321114</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   5: 38.29444  -75.62500 110000340667 321114      321114      321114</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  ---                                                                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 516: 45.60380 -121.13840 110071871479 321114      321114      321114</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 517: 47.24861 -122.24388 110071871691 321114      321114      321114</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 518: 48.77027 -122.51444 110071872027 321114      321114      321114</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 519: 31.65100  -95.07278 110071872028 321114      321114      321114</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 520: 33.03596  -86.97750 110071872489 321114      321114      321114</span>
<span class="r-in"><span>  <span class="co"># latlon_from_naics(naics_from_any("cheese")[,code] )</span></span></span>
<span class="r-in"><span>  <span class="fu">latlon_from_naics</span><span class="op">(</span><span class="st">"cheese"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           lat        lon  REGISTRY_ID  NAICS naics_found naics_query</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         &lt;num&gt;      &lt;num&gt;       &lt;char&gt;  &lt;num&gt;       &lt;num&gt;      &lt;char&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1: 44.19644  -75.95834 110000326102 311513      311513      cheese</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   2: 42.87593  -78.86949 110000326825 311513      311513      cheese</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3: 42.83404  -78.82388 110000327183 311513      311513      cheese</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   4: 41.47924  -81.07851 110000385798 311513      311513      cheese</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   5: 43.59796  -85.14557 110000410207 311513      311513      cheese</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  ---                                                                </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 423: 37.31066 -121.01631 110071801475 311513      311513      cheese</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 424: 37.49247 -120.84806 110071801697 311513      311513      cheese</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 425: 37.49251 -120.87657 110071807026 311513      311513      cheese</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 426: 44.34500  -87.82780 110071872375 311513      311513      cheese</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 427: 45.33148  -92.17117 110071882462 311513      311513      cheese</span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu">latlon_from_naics</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3366</span>, <span class="fl">33661</span>, <span class="fl">336611</span><span class="op">)</span>, id_only<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "110003914916" "110000897290" "110000360564" "110000369869" "110000377333"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6] "110000448962"</span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="regid_from_naics.html">regid_from_naics</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3366</span>, <span class="fl">33661</span>, <span class="fl">336611</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "110003914916" "110000897290" "110000360564" "110000369869" "110000377333"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6] "110000448962"</span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="regid_from_naics.html">regid_from_naics</a></span><span class="op">(</span><span class="fl">3366</span>, children <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "110003914916" "110000897290" "110000360564" "110000369869" "110000377333"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [6] "110000448962"</span>
<span class="r-in"><span>  <span class="co"># mapfast(frs_from_naics(336611)) # simple map</span></span></span>
<span class="r-in"><span>  </span></span>
<span class="r-in"><span>  <span class="co"># get name from one code</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="naics_from_code.html">naics_from_code</a></span><span class="op">(</span><span class="fl">336</span><span class="op">)</span><span class="op">$</span><span class="va">name</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in naics_from_code(336):</span> could not find function "naics_from_code"</span>
<span class="r-in"><span>  <span class="co"># get the name from each code</span></span></span>
<span class="r-in"><span>  <span class="va">mycode</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">33611</span>, <span class="fl">336111</span>, <span class="fl">336112</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="naics_from_code.html">naics_from_code</a></span><span class="op">(</span><span class="va">mycode</span><span class="op">)</span><span class="op">$</span><span class="va">name</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in naics_from_code(mycode):</span> could not find function "naics_from_code"</span>
<span class="r-in"><span>  <span class="co"># see counts of facilities by code (parent) and subcategories (children)</span></span></span>
<span class="r-in"><span>  <span class="va">naics_counts</span><span class="op">[</span><span class="va">NAICS</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">mycode</span>, <span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 3 × 6</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   name               NAICS count_w_subs count_no_subs label_w_subs label_no_subs</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>              <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>         <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">1</span> 33611 - Automobi…  <span style="text-decoration: underline;">33</span>611          326             1 33611 - Aut… 33611 - Auto…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">2</span> 336111 - Automob… <span style="text-decoration: underline;">336</span>111          271           271 336111 - Au… 336111 - Aut…</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">3</span> 336112 - Light T… <span style="text-decoration: underline;">336</span>112           72            72 336112 - Li… 336112 - Lig…</span>
<span class="r-in"><span>  <span class="co"># see parent codes that contain each code</span></span></span>
<span class="r-in"><span>  <span class="va">naicstable</span><span class="op">[</span><span class="va">code</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">mycode</span>, <span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>      code     n2     n3     n4     n5     n6</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     &lt;num&gt; &lt;char&gt; &lt;char&gt; &lt;char&gt; &lt;char&gt; &lt;char&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1:  33611     33    336   3361  33611  33611</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2: 336111     33    336   3361  33611 336111</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3: 336112     33    336   3361  33611 336112</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                     name</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                   &lt;char&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1: Automobile and Light Duty Motor Vehicle Manufacturing</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:                              Automobile Manufacturing</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:         Light Truck and Utility Vehicle Manufacturing</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                         num_name</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                                                           &lt;char&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1: 33611 - Automobile and Light Duty Motor Vehicle Manufacturing</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2:                             336111 - Automobile Manufacturing</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3:        336112 - Light Truck and Utility Vehicle Manufacturing</span>
<span class="r-in"><span>  </span></span>
<span class="r-in"><span>  <span class="co"># how many were found via each naics code?</span></span></span>
<span class="r-in"><span>  <span class="va">found</span> <span class="op">=</span> <span class="fu">latlon_from_naics</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">211</span>,<span class="fl">331</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">x</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span> <span class="va">found</span><span class="op">$</span><span class="va">naics_found</span>, <span class="va">found</span><span class="op">$</span><span class="va">naics_query</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="va">x</span> <span class="op">=</span> <span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html" class="external-link">order</a></span><span class="op">(</span><span class="va">x</span><span class="op">[</span>, <span class="fl">1</span><span class="op">]</span>,decreasing <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>,<span class="op">]</span></span></span>
<span class="r-in"><span>  <span class="va">x</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>            211   331</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   211130 14513     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   211120 10344     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   211        2     0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   331        0     7</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3312       0     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3314       0     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   3315       0     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   33121      0     5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   33122      0     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   33141      0     2</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   33142      0     5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   33151      0     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   33152      0     1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   331110     0   335</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   331210     0   513</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   331221     0   478</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   331222     0   221</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   331313     0    70</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   331314     0   239</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   331315     0   100</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   331318     0   169</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   331410     0   104</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   331420     0   146</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   331491     0   215</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   331492     0   370</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   331511     0   498</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   331512     0   124</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   331513     0   271</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   331523     0   232</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   331524     0   381</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   331529     0   192</span>
<span class="r-in"><span>  <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>2025</p>
</div>

<div class="pkgdown-footer-right">
  <p>EJAM Version 2.32.3</p>
</div>

    </footer></div>





  </body></html>

