<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Updating the Package as a New Release • EJAM</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Updating the Package as a New Release">
<meta name="description" content="Steps for incrementing package version and GitHub releases">
<meta property="og:description" content="Steps for incrementing package version and GitHub releases">
<meta property="og:image" content="https://usepa.github.io/EJAM-open/logo.svg">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">EJAM</a>

    <small class="nav-text text-warning me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">2.32.4</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Overview for EJAM Users</h6></li>
    <li><a class="dropdown-item" href="../articles/0_whatis.html">What is EJAM?</a></li>
    <li><a class="dropdown-item" href="../articles/0_webapp.html">Accessing the Web App</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>For analysts using R</h6></li>
    <li><a class="dropdown-item" href="../articles/1_installing.html">Installing the EJAM R package</a></li>
    <li><a class="dropdown-item" href="../articles/2_quickstart.html">Quick Start Guide</a></li>
    <li><a class="dropdown-item" href="../articles/3_analyzing.html">Using EJAM for Analysis in R</a></li>
    <li><a class="dropdown-item" href="../articles/testdata.html">Examples of Input/Output Files &amp; Data</a></li>
    <li><a class="dropdown-item" href="../articles/distances.html">Comparing Distances (Choosing a Radius)</a></li>
    <li><a class="dropdown-item" href="../articles/naics.html">NAICS (Industries)</a></li>
    <li><a class="dropdown-item" href="../articles/zipcodes.html">Zipcodes</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>For package/app developers</h6></li>
    <li><a class="dropdown-item" href="../articles/dev_deploy-app.html">Deploying the Web App</a></li>
    <li><a class="dropdown-item" href="../articles/dev_run-shinytests.html">Testing EJAM App with shinytest2</a></li>
    <li><a class="dropdown-item" href="../articles/dev_run-unit-tests.html">Testing EJAM Functions with Unit Tests</a></li>
    <li><a class="dropdown-item" href="../articles/dev_update-datasets.html">Updating EJAM Datasets</a></li>
    <li><a class="dropdown-item" href="../articles/dev_update_documentation.html">Updating Documentation</a></li>
    <li><a class="dropdown-item" href="../articles/dev_update-package.html">Updating the Package as a New Release</a></li>
    <li><a class="dropdown-item" href="../articles/dev_future_plans.html">Future Plans and Ideas for EJAM</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Updating the Package as a New Release</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/USEPA/EJAM-open/blob/HEAD/vignettes/dev_update-package.Rmd" class="external-link"><code>vignettes/dev_update-package.Rmd</code></a></small>
      <div class="d-none name"><code>dev_update-package.Rmd</code></div>
    </div>

    
    
<p>This document outlines the general development process for updating
EJAM (for a new release of the package) or relocating it to a different
repository, including the surrounding GitHub infrastructure. Also see
the separate vignettes on <a href="dev_update-datasets.html">updating
datasets</a> and <a href="dev_update-documentation.html">updating
documentation</a>.</p>
<div class="section level2">
<h2 id="update-owners-and-names-of-repositories-if-relevant">Update owners and names of repositories if relevant<a class="anchor" aria-label="anchor" href="#update-owners-and-names-of-repositories-if-relevant"></a>
</h2>
<p>If the package were renamed, or a new name were used for the
repository, or the owner of the repository changed, several files would
need to be updated for everything to work correctly.</p>
<ul>
<li><p>The name of the github repository storing the package code should
be recorded as part of the URL parameter in the DESCRIPTION file in the
root folder of the source package.</p></li>
<li><p>The name of the repo where webpages of package documentation are
published also should be recorded as part of the URL parameter in the
DESCRIPTION file in the root folder of the source package. The website
providing documentation of the R package is created via code in
<code>EJAM/data-raw/datacreate_0_UPDATE_ALL_DOCUMENTATION_pkgdown.R</code>,
relying on the R package <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> and hosted on github
pages.</p></li>
<li><p>The name of the repo where datasets are stored should be recorded
as the ejam_data_repo parameter in the DESCRIPTION file in the root
folder of the source package.</p></li>
</ul>
</div>
<div class="section level2">
<h2 id="update-the-package-release">Update the package release<a class="anchor" aria-label="anchor" href="#update-the-package-release"></a>
</h2>
<ul>
<li><p>Update EJAM version number in DESCRIPTION in development branch
(e.g. to 2.4.1) (&amp; tying it to EJScreen version numbers if
relevant)</p></li>
<li><p>Update <code>NEWS.md</code> in development branch</p></li>
<li><p>Merge development into main branch</p></li>
<li><p>Update the EJAM release using the <code>NEWS.md</code> for the
changelog, tagging to the main branch. Increment using the numbering
x.y.z (same numbering as was put in DESCRIPTION)</p></li>
</ul>
</div>
<div class="section level2">
<h2 id="make-updates-public-if-an-internal-repo-was-used">Make updates public if an internal repo was used<a class="anchor" aria-label="anchor" href="#make-updates-public-if-an-internal-repo-was-used"></a>
</h2>
<p>If the EJAM repo being used is internal or private, not public, then
to make the EJAM package installable, the updates need to be pushed to a
public repo such as the EJAM-open repo. These are the steps:</p>
<ol style="list-style-type: decimal">
<li>If not already done, add USEPA/EJAM-open (or the appropriate public
repo) as a remote for the internal repo main branch:</li>
</ol>
<p><code>git remote add EJAM-open git@github.com:USEPA/EJAM-open.git</code></p>
<ol start="2" style="list-style-type: decimal">
<li>Push to the main branch of that repo:</li>
</ol>
<p><code>git push EJAM-open main:main</code></p>
<ol start="3" style="list-style-type: decimal">
<li>
<p>If you want to squash commits</p>
<ol style="list-style-type: lower-alpha">
<li>If you want to add a new squashed commit, starting in main in
internal EJAM:</li>
</ol>
</li>
</ol>
<p><code>git checkout -b squash-temp</code>
<code>git reset --soft #SHA OF PREVIOUS MAIN COMMIT</code>
<code>git commit -m "Your squashed commit message"</code>
<code>git push --force EJAM-open squash-temp:main</code></p>
<pre><code>b.  If you just want EJAM-open to end with a single squash commit, starting in main in internal EJAM:</code></pre>
<p><code>git checkout –orphan squash-temp</code> <code>git add .</code>
<code>git commit -m "Publishing EJAM"</code>
<code>git push --force EJAM-open squash-temp:main</code>
<code>git -M main</code></p>
<ol start="4" style="list-style-type: decimal">
<li>Update EJAM-open release using a similar process as updating an
internal EJAM release.</li>
</ol>
</div>
<div class="section level2">
<h2 id="test-the-installation-process">Test the Installation Process<a class="anchor" aria-label="anchor" href="#test-the-installation-process"></a>
</h2>
<p>To ensure that, after changes are made, EJAM can still be installed
by users with various operating systems and versions of R, a workflow
file, <code>.github/workflows/installation_test.yaml</code>, is
triggered by any pushes to EJAM-open’s main branch. This file tests
installation with the following matrix of options:</p>
<ol style="list-style-type: decimal">
<li><p><strong>OS</strong>: Latest Ubuntu, Windows, macOS</p></li>
<li><p><strong>R version</strong>: 4.3 and 4.4</p></li>
<li><p><strong>Install Method</strong>:
<code><a href="https://remotes.r-lib.org/reference/install_url.html" class="external-link">remotes::install_url()</a></code> and
<code><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">remotes::install_github()</a></code></p></li>
</ol>
<div class="section level3">
<h3 id="update-the-test-installation-script">Update the Test Installation Script<a class="anchor" aria-label="anchor" href="#update-the-test-installation-script"></a>
</h3>
<p>You may want to update this test script in the future for a couple
reasons:</p>
<ul>
<li>Remove older versions of R to test on</li>
<li>Add new system libraries required by newly added packages</li>
</ul>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>2025</p>
</div>

<div class="pkgdown-footer-right">
  <p>EJAM Version 2.32.4</p>
</div>

    </footer>
</div>





  </body>
</html>
